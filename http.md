一. tcp三次握手四次挥手，为什么？

      一次握手:
      Client将标志位SYN置1，随机产生一个值seq=J,并将数据包发给Server 
      Client进入SYN_SENT状态，等待Server确认
      第二次握手:
      Server收到数据包后标志位SYN=1知道Client请求建立连接，Server将标志位SYN和ACK都置1，
      随机产生一个值,并将数据包发给Client确认连接请求，Server进入SYN_RCVD状态
      第三次握手:
      Client收到确认后若ACK为1，则将该数据包发送给Server，Server检查ACK为1则连接建立成功，
      Client与Server进入ESTABLISHED状态完成三次握手，可以传输数据

      第一次挥手：
      Clien发送一个FIN，用来关闭Client到Server的数据传送，Client进入FIN_WAIT_1状态。
      第二次挥手：
      Server收到FIN后，发送一个ACK给Client,Server进入CLOSE_WAIT状态。
      第三次挥手：
      Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入LAST_ACK状态。
      第四次挥手：
      Client收到FIN后，Client进入TIME_WAIT状态，发送ACK给Server，Server进入CLOSED状态，完成四次握手。
   
二. PHP与nginx怎样通信的？

     Nginx通过监听端口找到需要访问的PHP文件，与fast-CGI建立连接，fast-CGI接收数据，PHP-fpm管理fast-CGI进程，挂了就重新启动，
     fast-CGI执行PHP程序，完成数据获取后通过该连接把数据返回给Nginx，Nginx返回给客户端
     
三. 常见的http状态码有哪些？分别发生的场景是什么？分别是怎么处理排查定位到这些状态码，并解决？

    403 （禁止） 服务器拒绝请求。例：没有权限去读取某个文件路径。（forbidden）
    404 （未找到） 服务器找不到请求的网页。例：请求的页面丢失。（not found）
    500 （服务器内部错误） 服务器遇到错误，无法完成请求.例：当PHP内存溢出，超出默认的设置内存值，会报500
    502 （错误网关） 服务器作为网关或代理，从上游服务器收到无效响应。例：Nginx配置错误，或者Nginx某个服务未开启。
    
四. 一个URL请求到服务器返回的全过程？
    
    DNS解析->TCP链接->发送http请求->服务器处理请求->浏览器解析渲染页面->连接结束
    1.用户输入url，浏览器内部代码将url进行拆分解析；
    2.浏览器首先去找本地的hosts文件，检查在该文件中是否有相应的域名、IP对应关系，如果有，则向其IP地址发送请求，如果没有就会将domain（域）发送给         dns（域名服务器）进行解析，将域名解析成对应的服务器IP地址，发回给浏览器；
    3.应用层客户端发送HTTP请求；
    4.传输层TCP传输报文；
    5.接着：网络层IP协议查询MAC地址；（ 在找到对方的MAC地址后，就将数据发送到数据链路层传输。这时，客户端发送请求的阶段结束）
    6.服务器接收数据（接收端的服务器在链路层接收到数据包，再层层向上直到应用层。这过程中包括在运输层通过TCP协议将分段的数据包重新）
    7.服务器响应请求；最后： 服务器返回相应文件
. tcp与udp理解与区别?
    
    TCP(Transmission Control Protocol传输控制协议）是一种面向连接的，可靠的，基于字节流的传输通信协议。
    1、tcp(Transmission Control Protocol传输控制协议)
    2、传输层协议
    3、原因：应用层需要可靠的连接，但是IP层没有这样的流机制
    4、面向连接，即在客户端和服务器之间发送数据之间，必须先建立连接
    5、位于应用层和IP层之间
    6、连接需要建立三次握手、四次挥手断开连接
    7、传输数据时可靠的
    
    TCP连接建立——使用三次握手建立连接
    1、客户端发送请求【寻址请求】
    2、服务器端收到报文请求，回应客户端【确认请求】
    3、客户端收到服务端的报文进行回应。【连接请求】
    三次握手完成，TCP客户端和服务端成功地建立连接，可以传输数据。
    
    TCP终止一个连接——四次握手
    1、数据验证请求码
    2、传输结束标记
    3、确认结束标记
    4、连接断开标记
    
    UDP(User Datagram Protocol用户数据报协议)
    1、UDP(User Datagram Protocol用户数据报协议)
    2、传输层协议
    3、无连接的数据报协议
    4、不能提供数据报分组，组装和不能对数据报进行排序
    5、主要用于不要求分组顺序到达的传输中，分组传输顺序的检查和排序有应用层完成。
    6、提供面向事务的简单不可靠传递服务。
    7、UDP协议使用端口分别运行在同一台设备上的多个应用程序
    8、功能：为了在给定的主句上能识别多个目的的地址，
    同时允许多个应用程序在同一台主句上工作并能够独立地进行数据包的发送和接受,设计用户数据报协议UDP

    TCP、UDP两者的区别
    1、TCP是面向连接的（在客户端和服务器之间传输数据之前要先建立连接），UDP是无连接的（发送数据之前不需要先建立连接）
    2、TCP提供可靠的服务（通过TCP传输的数据。无差错，不丢失，不重复，且按序到达）；UDP提供面向事务的简单的不可靠的传输。
    3、UDP具有较好的实时性，工作效率比TCP高，适用于对高速传输和实时性比较高的通讯或广播通信。随着网速的提高，UDP使用越来越多。
    4、没一条TCP连接只能是点到点的，UDP支持一对一，一对多和多对多的交互通信。
    5、TCP对系统资源要去比较多，UDP对系统资源要求比较少
    6、UDP程序结构更加简单
    7、TCP是流模式，UDP是数据报模式
    
   


